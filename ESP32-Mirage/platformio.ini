; Common settings for all environments
[env]
platform = espressif32
framework = arduino
monitor_speed = 115200
upload_speed = 921600
board_build.filesystem = spiffs

; Library dependencies
lib_deps = 
    adafruit/Adafruit GFX Library@^1.11.9
    adafruit/Adafruit ST7735 and ST7789 Library@^1.10.3
    bblanchon/ArduinoJson@^6.21.4
    tzapu/WiFiManager@^2.0.16-rc.2

; Common build flags
build_flags = 
    -DCORE_DEBUG_LEVEL=3

; Default environment (generic ESP32-DevKit)
[env:esp32dev]
board = esp32dev
build_flags = 
    ${env.build_flags}
    -DBOARD_HAS_PSRAM  ; Note: Not all ESP32-DevKit boards have PSRAM. Remove if your board doesn't have it.
    -DBOARD_ESP32DEV
upload_port = /dev/ttyUSB0

; LilyGo T-Display (ESP32 with ST7789 240x135 display)
[env:lilygo-t-display]
board = esp32dev
build_flags = 
    ${env.build_flags}
    -DBOARD_HAS_PSRAM
    -DBOARD_LILYGO_T_DISPLAY
    -DTFT_CS=5
    -DTFT_DC=16
    -DTFT_RST=23
    -DTFT_BL=4
    -DSCREEN_WIDTH=240
    -DSCREEN_HEIGHT=135
lib_deps = 
    ${env.lib_deps}
    bodmer/TFT_eSPI@^2.5.43

; ESP32 Geek (ESP32-C3 with ST7789 240x240 display)
[env:esp32-geek]
board = esp32-c3-devkitm-1
build_flags = 
    ${env.build_flags}
    -DBOARD_ESP32_GEEK
    -DTFT_CS=10
    -DTFT_DC=8
    -DTFT_RST=9
    -DTFT_BL=18
    -DSCREEN_WIDTH=240
    -DSCREEN_HEIGHT=240
lib_deps = 
    ${env.lib_deps}
    bodmer/TFT_eSPI@^2.5.43

; M5Stack Basic/Core/Core2
; Note: The M5Stack library provides board-specific initialization, display drivers,
; button handling, and hardware abstraction for M5Stack boards. It's required to
; properly initialize the built-in display, IMU, and other peripherals.
[env:m5stack-core-esp32]
board = m5stack-core-esp32
build_flags = 
    ${env.build_flags}
    -DBOARD_M5STACK
    -DSCREEN_WIDTH=320
    -DSCREEN_HEIGHT=240
lib_deps = 
    ${env.lib_deps}
    m5stack/M5Stack@^0.4.6

; M5Stack CoreS3
; Note: M5Unified is the modern library for newer M5Stack devices. It provides
; unified API across M5Stack products and handles all hardware initialization.
[env:m5stack-cores3]
board = m5stack-cores3
build_flags = 
    ${env.build_flags}
    -DBOARD_M5STACK_CORES3
    -DSCREEN_WIDTH=320
    -DSCREEN_HEIGHT=240
lib_deps = 
    ${env.lib_deps}
    m5stack/M5Unified@^0.1.16

; M5Stack Cardputer
; Note: M5Unified + M5GFX provide hardware abstraction for Cardputer including
; display, keyboard, and other peripherals. M5GFX is the graphics library.
[env:m5stack-cardputer]
board = esp32-s3-devkitc-1
build_flags = 
    ${env.build_flags}
    -DARDUINO_M5STACK_CARDPUTER
    -DBOARD_M5STACK_CARDPUTER
    -DSCREEN_WIDTH=240
    -DSCREEN_HEIGHT=135
lib_deps = 
    ${env.lib_deps}
    m5stack/M5Unified@^0.1.16
    m5stack/M5GFX@^0.1.16

; M5StickC Plus
; Note: M5StickCPlus library provides hardware abstraction for the compact M5StickC
; Plus including display, IMU, battery management, and button handling.
[env:m5stick-c-plus]
board = m5stick-c
build_flags = 
    ${env.build_flags}
    -DBOARD_M5STICK_C_PLUS
    -DSCREEN_WIDTH=240
    -DSCREEN_HEIGHT=135
lib_deps = 
    ${env.lib_deps}
    m5stack/M5StickCPlus@^0.1.0

; M5StickC Plus2
; Note: M5StickC Plus2 uses M5Unified library (the modern unified API for newer M5Stack devices)
; since there's no separate M5StickCPlus2 library available in the PlatformIO registry.
[env:m5stick-c-plus2]
board = m5stick-c
build_flags = 
    ${env.build_flags}
    -DBOARD_M5STICK_C_PLUS2
    -DSCREEN_WIDTH=240
    -DSCREEN_HEIGHT=135
lib_deps = 
    ${env.lib_deps}
    m5stack/M5Unified@^0.1.16
